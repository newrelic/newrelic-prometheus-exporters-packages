description: |
  End-to-end tests for MongoDB integration

scenarios:
  - description: |
      This scenario will verify that metrics from MongoDB Sharded instance (mongos) are correctly collected.
    before:
      - docker-compose -f docker-compose-sharded.yml up -d
    after:
      - docker-compose -f docker-compose-sharded.yml down -v
    integrations:
      - name: nri-mongodb3
        binary_path: ../target/bin/linux_amd64/nri-mongodb3
        exporter_binary_path: ../target/bin/linux_amd64/mongodb3-exporter  # Hardcoded as we only test E2E in the pipeline with a linux machine.
        config:
          mongodb_cluster_name: e2e_test_cluster
          mongodb_uri: mongodb://localhost:17000
          database_stats: true
          collection_stats: true
          replicaset_stats: true
          top_stats: true
          diagnostic_stats: true
          exporter_port: 9128
    tests:
      nrqls:
        - query: "SELECT average(mongodb_dbstats_ok) FROM Metric"
      entities:
        - type: "MONGODB_DATABASE"
          data_type: "Metric"
          metric_name: "mongodb_dbstats_ok"
        - type: "MONGODB_COLLECTION"
          data_type: "Metric"
          metric_name: "mongodb_collstats_storageStats_count"
      metrics:
        - source: "mongodb.yml"
          except_entities:
            - MONGODB_INSTANCE
          except_metrics:
            - mongodb_collstats_storageStats_indexSizes_callingCode_1
            - mongodb_collstats_storageStats_indexSizes_capital_text
            - mongodb_top_commands_count
            - mongodb_top_commands_time
            - mongodb_top_getmore_count
            - mongodb_top_getmore_time
            - mongodb_top_insert_count
            - mongodb_top_insert_time
            - mongodb_top_queries_count
            - mongodb_top_queries_time
            - mongodb_top_readLock_count
            - mongodb_top_readLock_time
            - mongodb_top_remove_count
            - mongodb_top_remove_time
            - mongodb_top_total_count
            - mongodb_top_total_time
            - mongodb_top_update_count
            - mongodb_top_update_time
            - mongodb_top_writeLock_count
            - mongodb_top_writeLock_time
            - mongodb_dbstats_collections
            - mongodb_dbstats_configServerState_opTime_t
            - mongodb_dbstats_fsTotalSize
            - mongodb_dbstats_fsUsedSize
            - mongodb_dbstats_views
          # additionals: ""

  - description: |
      This scenario will verify that metrics from MongoDB Replicaset are correctly collected.
    before:
      - docker-compose -f docker-compose-replicaset.yml up -d
    after:
      - docker-compose -f docker-compose-replicaset.yml down -v
    integrations:
      - name: nri-mongodb3
        binary_path: ../target/bin/linux_amd64/nri-mongodb3
        exporter_binary_path: ../target/bin/linux_amd64/mongodb3-exporter  # Hardcoded as we only test E2E in the pipeline with a linux machine.
        config:
          mongodb_cluster_name: e2e_test_cluster
          mongodb_uri: mongodb://localhost:17001
          database_stats: true
          collection_stats: true
          replicaset_stats: true
          top_stats: true
          diagnostic_stats: true
          exporter_port: 9126
    tests:
      nrqls:
        - query: "SELECT average(mongodb_dbstats_ok) FROM Metric"
      entities:
        - type: "MONGODB_INSTANCE"
          data_type: "Metric"
          metric_name: "mongodb_oplog_stats_count"
        - type: "MONGODB_DATABASE"
          data_type: "Metric"
          metric_name: "mongodb_dbstats_ok"
        - type: "MONGODB_COLLECTION"
          data_type: "Metric"
          metric_name: "mongodb_collstats_storageStats_count"
      metrics:
        - source: "mongodb.yml"
          except_entities:

          except_metrics:
            - mongodb_oplog_stats_sleepCount
            - mongodb_oplog_stats_sleepMS
            - mongodb_oplog_stats_wt_btree_maximum_internal_page_key_size
            - mongodb_oplog_stats_wt_btree_pages_rewritten_by_compaction
            - mongodb_oplog_stats_wt_cache_page_written_requiring_cache_overflow_records
            - mongodb_oplog_stats_wt_cache_pages_read_into_cache_requiring_cache_overflow_entries
            - mongodb_oplog_stats_wt_reconciliation_internal_page_overflow_keys
            - mongodb_optimes_readConcernMajorityWallTime
            - mongodb_rs_optimes_readConcernMajorityWallTime
            - mongodb_ss_flowControl_locksPerOp
            - mongodb_ss_locks_Collection_acquireCount_R
            - mongodb_ss_locks_Database_acquireWaitCount_W
            - mongodb_ss_locks_Database_acquireWaitCount_r
            - mongodb_ss_locks_Database_timeAcquiringMicros_W
            - mongodb_ss_locks_Database_timeAcquiringMicros_r
            - mongodb_ss_locks_Global_acquireCount_R
            - mongodb_ss_locks_Global_acquireWaitCount_W
            - mongodb_ss_locks_Global_acquireWaitCount_r
            - mongodb_ss_locks_Global_acquireWaitCount_w
            - mongodb_ss_locks_Global_timeAcquiringMicros_W
            - mongodb_ss_locks_Global_timeAcquiringMicros_r
            - mongodb_ss_locks_Global_timeAcquiringMicros_w
            - mongodb_ss_locks_oplog_acquireCount_W
            - mongodb_ss_metrics_commands_cloneCatalogData_failed
            - mongodb_ss_metrics_commands_cloneCatalogData_total
            - mongodb_ss_metrics_commands_cloneCollection_failed
            - mongodb_ss_metrics_commands_cloneCollection_total
            - mongodb_ss_metrics_commands_configsvrCreateCollection_failed
            - mongodb_ss_metrics_commands_configsvrCreateCollection_total
            - mongodb_ss_metrics_commands_geoSearch_failed
            - mongodb_ss_metrics_commands_geoSearch_total
            - mongodb_ss_metrics_commands_mapreduce_shardedfinish_failed
            - mongodb_ss_metrics_commands_mapreduce_shardedfinish_total
            - mongodb_ss_metrics_commands_movePrimary_failed
            - mongodb_ss_metrics_commands_movePrimary_total
            - mongodb_ss_metrics_commands_planCacheListPlans_failed
            - mongodb_ss_metrics_commands_planCacheListPlans_total
            - mongodb_ss_metrics_commands_planCacheListQueryShapes_failed
            - mongodb_ss_metrics_commands_planCacheListQueryShapes_total
            - mongodb_ss_metrics_commands_repairCursor_failed
            - mongodb_ss_metrics_commands_repairCursor_total
            - mongodb_ss_metrics_commands_resetError_failed
            - mongodb_ss_metrics_commands_resetError_total
            - mongodb_ss_metrics_commands_shardConnPoolStats_failed
            - mongodb_ss_metrics_commands_shardConnPoolStats_total
            - mongodb_ss_metrics_commands_touch_failed
            - mongodb_ss_metrics_commands_touch_total
            - mongodb_ss_metrics_commands_unsetSharding_failed
            - mongodb_ss_metrics_commands_unsetSharding_total
            - mongodb_ss_metrics_commands_repairDatabase_failed
            - mongodb_ss_metrics_commands_repairDatabase_total
            - mongodb_ss_network_serviceExecutorTaskStats_threadsRunning
            - mongodb_ss_opReadConcernCounters
            - mongodb_ss_repl_ismaster
            - mongodb_ss_shardingStatistics_catalogCache_countFailedRefreshes
            - mongodb_ss_shardingStatistics_catalogCache_countFullRefreshesStarted
            - mongodb_ss_shardingStatistics_catalogCache_countIncrementalRefreshesStarted
            - mongodb_ss_shardingStatistics_catalogCache_countStaleConfigErrors
            - mongodb_ss_shardingStatistics_catalogCache_numActiveFullRefreshes
            - mongodb_ss_shardingStatistics_catalogCache_numActiveIncrementalRefreshes
            - mongodb_ss_shardingStatistics_catalogCache_numCollectionEntries
            - mongodb_ss_shardingStatistics_catalogCache_numDatabaseEntries
            - mongodb_ss_shardingStatistics_catalogCache_operationsBlockedByRefresh_countAllOperations
            - mongodb_ss_shardingStatistics_catalogCache_operationsBlockedByRefresh_countCommands
            - mongodb_ss_shardingStatistics_catalogCache_operationsBlockedByRefresh_countDeletes
            - mongodb_ss_shardingStatistics_catalogCache_operationsBlockedByRefresh_countInserts
            - mongodb_ss_shardingStatistics_catalogCache_operationsBlockedByRefresh_countQueries
            - mongodb_ss_shardingStatistics_catalogCache_operationsBlockedByRefresh_countUpdates
            - mongodb_ss_shardingStatistics_catalogCache_totalRefreshWaitTimeMicros
            - mongodb_ss_shardingStatistics_countDocsClonedOnDonor
            - mongodb_ss_shardingStatistics_countDocsClonedOnRecipient
            - mongodb_ss_shardingStatistics_countDocsDeletedOnDonor
            - mongodb_ss_shardingStatistics_countDonorMoveChunkLockTimeout
            - mongodb_ss_shardingStatistics_countDonorMoveChunkStarted
            - mongodb_ss_shardingStatistics_countRecipientMoveChunkStarted
            - mongodb_ss_shardingStatistics_countStaleConfigErrors
            - mongodb_ss_shardingStatistics_totalCriticalSectionCommitTimeMillis
            - mongodb_ss_shardingStatistics_totalCriticalSectionTimeMillis
            - mongodb_ss_shardingStatistics_totalDonorChunkCloneTimeMillis
            - mongodb_ss_wt_async_current_work_queue_length
            - mongodb_ss_wt_async_maximum_work_queue_length
            - mongodb_ss_wt_async_number_of_allocation_state_races
            - mongodb_ss_wt_async_number_of_flush_calls
            - mongodb_ss_wt_async_number_of_operation_slots_viewed_for_allocation
            - mongodb_ss_wt_async_number_of_times_operation_allocation_failed
            - mongodb_ss_wt_async_number_of_times_worker_found_no_work
            - mongodb_ss_wt_async_total_allocations
            - mongodb_ss_wt_async_total_compact_calls
            - mongodb_ss_wt_async_total_insert_calls
            - mongodb_ss_wt_async_total_remove_calls
            - mongodb_ss_wt_async_total_search_calls
            - mongodb_ss_wt_async_total_update_calls
            - mongodb_ss_wt_cache_bytes_belonging_to_the_cache_overflow_table_in_the_cache
            - mongodb_ss_wt_cache_cache_overflow_cursor_application_thread_wait_time_usecs
            - mongodb_ss_wt_cache_cache_overflow_cursor_internal_thread_wait_time_usecs
            - mongodb_ss_wt_cache_cache_overflow_table_entries
            - mongodb_ss_wt_cache_cache_overflow_table_insert_calls
            - mongodb_ss_wt_cache_cache_overflow_table_max_on_disk_size
            - mongodb_ss_wt_cache_cache_overflow_table_on_disk_size
            - mongodb_ss_wt_cache_cache_overflow_table_remove_calls
            - mongodb_ss_wt_cache_page_written_requiring_cache_overflow_records
            - mongodb_ss_wt_cache_pages_read_into_cache_requiring_cache_overflow_entries
            - mongodb_ss_wt_cache_pages_read_into_cache_requiring_cache_overflow_for_checkpoint
            - mongodb_ss_wt_cache_pages_read_into_cache_skipping_older_cache_overflow_entries
            - mongodb_ss_wt_cache_pages_read_into_cache_with_skipped_cache_overflow_entries_needed_later
            - mongodb_ss_wt_cache_pages_read_into_cache_with_skipped_cache_overflow_entries_needed_later_by_checkpoint
            - mongodb_ss_wt_cache_pages_selected_for_eviction_unable_to_be_evicted_as_the_parent_page_has_overflow_items
            - mongodb_ss_wt_cache_pages_selected_for_eviction_unable_to_be_evicted_due_to_newer_modifications_on_a_clean_page
            - mongodb_ss_wt_session_table_import_failed_calls
            - mongodb_ss_wt_session_table_import_successful_calls
            - mongodb_ss_wt_session_table_rebalance_failed_calls
            - mongodb_ss_wt_session_table_rebalance_successful_calls
            - mongodb_ss_wt_snapshot_window_settings_cache_pressure_percentage_threshold
            - mongodb_ss_wt_snapshot_window_settings_current_available_snapshots_window_size_in_seconds
            - mongodb_ss_wt_snapshot_window_settings_current_cache_pressure_percentage
            - mongodb_ss_wt_snapshot_window_settings_max_target_available_snapshots_window_size_in_seconds
            - mongodb_ss_wt_snapshot_window_settings_target_available_snapshots_window_size_in_seconds
            - mongodb_ss_wt_thread_yield_log_server_sync_yielded_for_log_write
            - mongodb_ss_wt_txn_Number_of_prepared_updates_added_to_cache_overflow
            - mongodb_ss_wt_txn_durable_timestamp_queue_entries_walked
            - mongodb_ss_wt_txn_durable_timestamp_queue_insert_to_empty
            - mongodb_ss_wt_txn_durable_timestamp_queue_inserts_to_head
            - mongodb_ss_wt_txn_durable_timestamp_queue_inserts_total
            - mongodb_ss_wt_txn_durable_timestamp_queue_length
            - mongodb_ss_wt_txn_number_of_named_snapshots_created
            - mongodb_ss_wt_txn_number_of_named_snapshots_dropped
            - mongodb_ss_wt_txn_read_timestamp_queue_entries_walked
            - mongodb_ss_wt_txn_read_timestamp_queue_insert_to_empty
            - mongodb_ss_wt_txn_read_timestamp_queue_inserts_to_head
            - mongodb_ss_wt_txn_read_timestamp_queue_inserts_total
            - mongodb_ss_wt_txn_read_timestamp_queue_length
            - mongodb_ss_wt_txn_rollback_to_stable_updates_removed_from_cache_overflow
            - mongodb_ss_wt_txn_transaction_failures_due_to_cache_overflow
            - mongodb_ss_wt_txn_transaction_range_of_IDs_currently_pinned_by_named_snapshots
            - mongodb_ss_wt_txn_transaction_sync_calls
            - mongodb_sys_mounts_proc_sched_debug_available
            - mongodb_sys_mounts_proc_sched_debug_capacity
            - mongodb_sys_mounts_proc_sched_debug_free
            - mongodb_sys_mounts_data_configdb_available
            - mongodb_sys_mounts_data_configdb_capacity
            - mongodb_sys_mounts_data_configdb_free
            - mongodb_collstats_storageStats_indexSizes_callingCode_1
            - mongodb_collstats_storageStats_indexSizes_capital_text
            - mongodb_dbstats_configServerState_opTime_t
            - mongodb_dbstats_numExtents

          # additionals: ""

  - description: |
      This scenario will verify that metrics from MongoDB Standalone instance are correctly collected.
    before:
      - docker-compose -f docker-compose-standalone.yml up -d
    after:
      - docker-compose -f docker-compose-standalone.yml down -v
    integrations:
      - name: nri-mongodb3
        binary_path: ../target/bin/linux_amd64/nri-mongodb3
        exporter_binary_path: ../target/bin/linux_amd64/mongodb3-exporter  # Hardcoded as we only test E2E in the pipeline with a linux machine.
        config:
          mongodb_cluster_name: e2e_test_cluster
          mongodb_uri: mongodb://root:pass12345@localhost:17017
          database_stats: true
          collection_stats: true
          replicaset_stats: true
          top_stats: true
          diagnostic_stats: true
          exporter_port: 9127
    tests:
      nrqls:
        - query: "SELECT average(mongodb_dbstats_ok) FROM Metric"
      entities:
        - type: "MONGODB_INSTANCE"
          data_type: "Metric"
          metric_name: "mongodb_ss_mem_resident"
        - type: "MONGODB_DATABASE"
          data_type: "Metric"
          metric_name: "mongodb_dbstats_ok"
        - type: "MONGODB_COLLECTION"
          data_type: "Metric"
          metric_name: "mongodb_collstats_storageStats_count"
      metrics:
        - source: "mongodb.yml"
          except_entities:

          except_metrics:
            - mongodb_clusterTime_signature_keyId
            - mongodb_date
            - mongodb_heartbeatIntervalMillis
            - mongodb_members_configVersion
            - mongodb_members_electionDate
            - mongodb_members_health
            - mongodb_members_id
            - mongodb_members_lastHeartbeat
            - mongodb_members_lastHeartbeatRecv
            - mongodb_members_optimeDate
            - mongodb_members_optimeDurableDate
            - mongodb_members_optimeDurable_t
            - mongodb_members_optime_t
            - mongodb_members_pingMs
            - mongodb_members_self
            - mongodb_members_state
            - mongodb_members_syncSourceId
            - mongodb_members_uptime
            - mongodb_oplog_stats_avgObjSize
            - mongodb_oplog_stats_capped
            - mongodb_oplog_stats_count
            - mongodb_oplog_stats_end
            - mongodb_oplog_stats_max
            - mongodb_oplog_stats_maxSize
            - mongodb_oplog_stats_nindexes
            - mongodb_oplog_stats_ok
            - mongodb_oplog_stats_scaleFactor
            - mongodb_oplog_stats_size
            - mongodb_oplog_stats_sleepCount
            - mongodb_oplog_stats_sleepMS
            - mongodb_oplog_stats_start
            - mongodb_oplog_stats_storageSize
            - mongodb_oplog_stats_totalIndexSize
            - mongodb_oplog_stats_wt_LSM_bloom_filter_false_positives
            - mongodb_oplog_stats_wt_LSM_bloom_filter_hits
            - mongodb_oplog_stats_wt_LSM_bloom_filter_misses
            - mongodb_oplog_stats_wt_LSM_bloom_filter_pages_evicted_from_cache
            - mongodb_oplog_stats_wt_LSM_bloom_filter_pages_read_into_cache
            - mongodb_oplog_stats_wt_LSM_bloom_filters_in_the_LSM_tree
            - mongodb_oplog_stats_wt_LSM_chunks_in_the_LSM_tree
            - mongodb_oplog_stats_wt_LSM_highest_merge_generation_in_the_LSM_tree
            - mongodb_oplog_stats_wt_LSM_queries_that_could_have_benefited_from_a_Bloom_filter_that_did_not_exist
            - mongodb_oplog_stats_wt_LSM_sleep_for_LSM_checkpoint_throttle
            - mongodb_oplog_stats_wt_LSM_sleep_for_LSM_merge_throttle
            - mongodb_oplog_stats_wt_LSM_total_size_of_bloom_filters
            - mongodb_oplog_stats_wt_block_manager_allocations_requiring_file_extension
            - mongodb_oplog_stats_wt_block_manager_blocks_allocated
            - mongodb_oplog_stats_wt_block_manager_blocks_freed
            - mongodb_oplog_stats_wt_block_manager_checkpoint_size
            - mongodb_oplog_stats_wt_block_manager_file_allocation_unit_size
            - mongodb_oplog_stats_wt_block_manager_file_bytes_available_for_reuse
            - mongodb_oplog_stats_wt_block_manager_file_magic_number
            - mongodb_oplog_stats_wt_block_manager_file_major_version_number
            - mongodb_oplog_stats_wt_block_manager_file_size_in_bytes
            - mongodb_oplog_stats_wt_block_manager_minor_version_number
            - mongodb_oplog_stats_wt_btree_btree_checkpoint_generation
            - mongodb_oplog_stats_wt_btree_btree_clean_tree_checkpoint_expiration_time
            - mongodb_oplog_stats_wt_btree_column_store_fixed_size_leaf_pages
            - mongodb_oplog_stats_wt_btree_column_store_internal_pages
            - mongodb_oplog_stats_wt_btree_column_store_variable_size_RLE_encoded_values
            - mongodb_oplog_stats_wt_btree_column_store_variable_size_deleted_values
            - mongodb_oplog_stats_wt_btree_column_store_variable_size_leaf_pages
            - mongodb_oplog_stats_wt_btree_fixed_record_size
            - mongodb_oplog_stats_wt_btree_maximum_internal_page_key_size
            - mongodb_oplog_stats_wt_btree_maximum_internal_page_size
            - mongodb_oplog_stats_wt_btree_maximum_leaf_page_key_size
            - mongodb_oplog_stats_wt_btree_maximum_leaf_page_size
            - mongodb_oplog_stats_wt_btree_maximum_leaf_page_value_size
            - mongodb_oplog_stats_wt_btree_maximum_tree_depth
            - mongodb_oplog_stats_wt_btree_number_of_key_value_pairs
            - mongodb_oplog_stats_wt_btree_overflow_pages
            - mongodb_oplog_stats_wt_btree_pages_rewritten_by_compaction
            - mongodb_oplog_stats_wt_btree_row_store_empty_values
            - mongodb_oplog_stats_wt_btree_row_store_internal_pages
            - mongodb_oplog_stats_wt_btree_row_store_leaf_pages
            - mongodb_oplog_stats_wt_cache_bytes_currently_in_the_cache
            - mongodb_oplog_stats_wt_cache_bytes_dirty_in_the_cache_cumulative
            - mongodb_oplog_stats_wt_cache_bytes_read_into_cache
            - mongodb_oplog_stats_wt_cache_bytes_written_from_cache
            - mongodb_oplog_stats_wt_cache_checkpoint_blocked_page_eviction
            - mongodb_oplog_stats_wt_cache_data_source_pages_selected_for_eviction_unable_to_be_evicted
            - mongodb_oplog_stats_wt_cache_eviction_walk_passes_of_a_file
            - mongodb_oplog_stats_wt_cache_eviction_walk_target_pages_histogram_0_9
            - mongodb_oplog_stats_wt_cache_eviction_walk_target_pages_histogram_10_31
            - mongodb_oplog_stats_wt_cache_eviction_walk_target_pages_histogram_128_and_higher
            - mongodb_oplog_stats_wt_cache_eviction_walk_target_pages_histogram_32_63
            - mongodb_oplog_stats_wt_cache_eviction_walk_target_pages_histogram_64_128
            - mongodb_oplog_stats_wt_cache_eviction_walks_abandoned
            - mongodb_oplog_stats_wt_cache_eviction_walks_gave_up_because_they_restarted_their_walk_twice
            - mongodb_oplog_stats_wt_cache_eviction_walks_gave_up_because_they_saw_too_many_pages_and_found_no_candidates
            - mongodb_oplog_stats_wt_cache_eviction_walks_gave_up_because_they_saw_too_many_pages_and_found_too_few_candidates
            - mongodb_oplog_stats_wt_cache_eviction_walks_reached_end_of_tree
            - mongodb_oplog_stats_wt_cache_eviction_walks_started_from_root_of_tree
            - mongodb_oplog_stats_wt_cache_eviction_walks_started_from_saved_location_in_tree
            - mongodb_oplog_stats_wt_cache_hazard_pointer_blocked_page_eviction
            - mongodb_oplog_stats_wt_cache_in_memory_page_passed_criteria_to_be_split
            - mongodb_oplog_stats_wt_cache_in_memory_page_splits
            - mongodb_oplog_stats_wt_cache_internal_pages_evicted
            - mongodb_oplog_stats_wt_cache_internal_pages_split_during_eviction
            - mongodb_oplog_stats_wt_cache_leaf_pages_split_during_eviction
            - mongodb_oplog_stats_wt_cache_modified_pages_evicted
            - mongodb_oplog_stats_wt_cache_overflow_pages_read_into_cache
            - mongodb_oplog_stats_wt_cache_page_split_during_eviction_deepened_the_tree
            - mongodb_oplog_stats_wt_cache_page_written_requiring_cache_overflow_records
            - mongodb_oplog_stats_wt_cache_pages_read_into_cache
            - mongodb_oplog_stats_wt_cache_pages_read_into_cache_after_truncate
            - mongodb_oplog_stats_wt_cache_pages_read_into_cache_after_truncate_in_prepare_state
            - mongodb_oplog_stats_wt_cache_pages_read_into_cache_requiring_cache_overflow_entries
            - mongodb_oplog_stats_wt_cache_pages_requested_from_the_cache
            - mongodb_oplog_stats_wt_cache_pages_seen_by_eviction_walk
            - mongodb_oplog_stats_wt_cache_pages_written_from_cache
            - mongodb_oplog_stats_wt_cache_pages_written_requiring_in_memory_restoration
            - mongodb_oplog_stats_wt_cache_tracked_dirty_bytes_in_the_cache
            - mongodb_oplog_stats_wt_cache_unmodified_pages_evicted
            - mongodb_oplog_stats_wt_cache_walk_Average_difference_between_current_eviction_generation_when_the_page_was_last_considered
            - mongodb_oplog_stats_wt_cache_walk_Average_on_disk_page_image_size_seen
            - mongodb_oplog_stats_wt_cache_walk_Average_time_in_cache_for_pages_that_have_been_visited_by_the_eviction_server
            - mongodb_oplog_stats_wt_cache_walk_Average_time_in_cache_for_pages_that_have_not_been_visited_by_the_eviction_server
            - mongodb_oplog_stats_wt_cache_walk_Clean_pages_currently_in_cache
            - mongodb_oplog_stats_wt_cache_walk_Current_eviction_generation
            - mongodb_oplog_stats_wt_cache_walk_Dirty_pages_currently_in_cache
            - mongodb_oplog_stats_wt_cache_walk_Entries_in_the_root_page
            - mongodb_oplog_stats_wt_cache_walk_Internal_pages_currently_in_cache
            - mongodb_oplog_stats_wt_cache_walk_Leaf_pages_currently_in_cache
            - mongodb_oplog_stats_wt_cache_walk_Maximum_difference_between_current_eviction_generation_when_the_page_was_last_considered
            - mongodb_oplog_stats_wt_cache_walk_Maximum_page_size_seen
            - mongodb_oplog_stats_wt_cache_walk_Minimum_on_disk_page_image_size_seen
            - mongodb_oplog_stats_wt_cache_walk_Number_of_pages_never_visited_by_eviction_server
            - mongodb_oplog_stats_wt_cache_walk_On_disk_page_image_sizes_smaller_than_a_single_allocation_unit
            - mongodb_oplog_stats_wt_cache_walk_Pages_created_in_memory_and_never_written
            - mongodb_oplog_stats_wt_cache_walk_Pages_currently_queued_for_eviction
            - mongodb_oplog_stats_wt_cache_walk_Pages_that_could_not_be_queued_for_eviction
            - mongodb_oplog_stats_wt_cache_walk_Refs_skipped_during_cache_traversal
            - mongodb_oplog_stats_wt_cache_walk_Size_of_the_root_page
            - mongodb_oplog_stats_wt_cache_walk_Total_number_of_pages_currently_in_cache
            - mongodb_oplog_stats_wt_compression_compressed_page_maximum_internal_page_size_prior_to_compression
            - mongodb_oplog_stats_wt_compression_compressed_page_maximum_leaf_page_size_prior_to_compression
            - mongodb_oplog_stats_wt_compression_compressed_pages_read
            - mongodb_oplog_stats_wt_compression_compressed_pages_written
            - mongodb_oplog_stats_wt_compression_page_written_failed_to_compress
            - mongodb_oplog_stats_wt_compression_page_written_was_too_small_to_compress
            - mongodb_oplog_stats_wt_cursor_bulk_loaded_cursor_insert_calls
            - mongodb_oplog_stats_wt_cursor_cache_cursors_reuse_count
            - mongodb_oplog_stats_wt_cursor_close_calls_that_result_in_cache
            - mongodb_oplog_stats_wt_cursor_create_calls
            - mongodb_oplog_stats_wt_cursor_insert_calls
            - mongodb_oplog_stats_wt_cursor_insert_key_and_value_bytes
            - mongodb_oplog_stats_wt_cursor_modify
            - mongodb_oplog_stats_wt_cursor_modify_key_and_value_bytes_affected
            - mongodb_oplog_stats_wt_cursor_modify_value_bytes_modified
            - mongodb_oplog_stats_wt_cursor_next_calls
            - mongodb_oplog_stats_wt_cursor_open_cursor_count
            - mongodb_oplog_stats_wt_cursor_operation_restarted
            - mongodb_oplog_stats_wt_cursor_prev_calls
            - mongodb_oplog_stats_wt_cursor_remove_calls
            - mongodb_oplog_stats_wt_cursor_remove_key_bytes_removed
            - mongodb_oplog_stats_wt_cursor_reserve_calls
            - mongodb_oplog_stats_wt_cursor_reset_calls
            - mongodb_oplog_stats_wt_cursor_search_calls
            - mongodb_oplog_stats_wt_cursor_search_near_calls
            - mongodb_oplog_stats_wt_cursor_truncate_calls
            - mongodb_oplog_stats_wt_cursor_update_calls
            - mongodb_oplog_stats_wt_cursor_update_key_and_value_bytes
            - mongodb_oplog_stats_wt_cursor_update_value_size_change
            - mongodb_oplog_stats_wt_metadata_formatVersion
            - mongodb_oplog_stats_wt_metadata_oplogKeyExtractionVersion
            - mongodb_oplog_stats_wt_reconciliation_dictionary_matches
            - mongodb_oplog_stats_wt_reconciliation_fast_path_pages_deleted
            - mongodb_oplog_stats_wt_reconciliation_internal_page_key_bytes_discarded_using_suffix_compression
            - mongodb_oplog_stats_wt_reconciliation_internal_page_multi_block_writes
            - mongodb_oplog_stats_wt_reconciliation_internal_page_overflow_keys
            - mongodb_oplog_stats_wt_reconciliation_leaf_page_key_bytes_discarded_using_prefix_compression
            - mongodb_oplog_stats_wt_reconciliation_leaf_page_multi_block_writes
            - mongodb_oplog_stats_wt_reconciliation_leaf_page_overflow_keys
            - mongodb_oplog_stats_wt_reconciliation_maximum_blocks_required_for_a_page
            - mongodb_oplog_stats_wt_reconciliation_overflow_values_written
            - mongodb_oplog_stats_wt_reconciliation_page_checksum_matches
            - mongodb_oplog_stats_wt_reconciliation_page_reconciliation_calls
            - mongodb_oplog_stats_wt_reconciliation_page_reconciliation_calls_for_eviction
            - mongodb_oplog_stats_wt_reconciliation_pages_deleted
            - mongodb_oplog_stats_wt_session_object_compaction
            - mongodb_oplog_stats_wt_transaction_update_conflicts
            - mongodb_optimes_appliedOpTime_t
            - mongodb_optimes_durableOpTime_t
            - mongodb_optimes_lastAppliedWallTime
            - mongodb_optimes_lastCommittedOpTime_t
            - mongodb_optimes_lastCommittedWallTime
            - mongodb_optimes_lastDurableWallTime
            - mongodb_optimes_readConcernMajorityOpTime_t
            - mongodb_optimes_readConcernMajorityWallTime
            - mongodb_rs_date
            - mongodb_rs_electionCandidateMetrics_electionTerm
            - mongodb_rs_electionCandidateMetrics_electionTimeoutMillis
            - mongodb_rs_electionCandidateMetrics_lastCommittedOpTimeAtElection_t
            - mongodb_rs_electionCandidateMetrics_lastElectionDate
            - mongodb_rs_electionCandidateMetrics_lastSeenOpTimeAtElection_t
            - mongodb_rs_electionCandidateMetrics_newTermStartDate
            - mongodb_rs_electionCandidateMetrics_numCatchUpOps
            - mongodb_rs_electionCandidateMetrics_numVotesNeeded
            - mongodb_rs_electionCandidateMetrics_priorityAtElection
            - mongodb_rs_electionCandidateMetrics_wMajorityWriteAvailabilityDate
            - mongodb_rs_end
            - mongodb_rs_heartbeatIntervalMillis
            - mongodb_rs_majorityVoteCount
            - mongodb_rs_members_configVersion
            - mongodb_rs_members_electionDate
            - mongodb_rs_members_health
            - mongodb_rs_members_id
            - mongodb_rs_members_lastHeartbeat
            - mongodb_rs_members_lastHeartbeatRecv
            - mongodb_rs_members_optimeDate
            - mongodb_rs_members_optimeDurableDate
            - mongodb_rs_members_optimeDurable_t
            - mongodb_rs_members_optime_t
            - mongodb_rs_members_pingMs
            - mongodb_rs_members_self
            - mongodb_rs_members_state
            - mongodb_rs_members_syncSourceId
            - mongodb_rs_members_uptime
            - mongodb_rs_myState
            - mongodb_rs_ok
            - mongodb_rs_optimes_appliedOpTime_t
            - mongodb_rs_optimes_durableOpTime_t
            - mongodb_rs_optimes_lastAppliedWallTime
            - mongodb_rs_optimes_lastCommittedOpTime_t
            - mongodb_rs_optimes_lastCommittedWallTime
            - mongodb_rs_optimes_lastDurableWallTime
            - mongodb_rs_optimes_readConcernMajorityOpTime_t
            - mongodb_rs_optimes_readConcernMajorityWallTime
            - mongodb_rs_start
            - mongodb_rs_syncSourceId
            - mongodb_rs_term
            - mongodb_rs_writeMajorityCount
            - mongodb_ss_flowControl_locksPerOp
            - mongodb_ss_locks_Collection_acquireCount_R
            - mongodb_ss_locks_Database_acquireWaitCount_W
            - mongodb_ss_locks_Database_acquireWaitCount_r
            - mongodb_ss_locks_Database_timeAcquiringMicros_W
            - mongodb_ss_locks_Database_timeAcquiringMicros_r
            - mongodb_ss_locks_Global_acquireCount_R
            - mongodb_ss_locks_Global_acquireWaitCount_W
            - mongodb_ss_locks_Global_acquireWaitCount_r
            - mongodb_ss_locks_Global_acquireWaitCount_w
            - mongodb_ss_locks_Global_timeAcquiringMicros_W
            - mongodb_ss_locks_Global_timeAcquiringMicros_r
            - mongodb_ss_locks_Global_timeAcquiringMicros_w
            - mongodb_ss_locks_Mutex_acquireCount_W
            - mongodb_ss_locks_ReplicationStateTransition_acquireCount_W
            - mongodb_ss_locks_ReplicationStateTransition_acquireWaitCount_w
            - mongodb_ss_locks_ReplicationStateTransition_timeAcquiringMicros_w
            - mongodb_ss_locks_acquireWaitCount
            - mongodb_ss_locks_oplog_acquireCount_W
            - mongodb_ss_locks_oplog_acquireCount_r
            - mongodb_ss_locks_oplog_acquireCount_w
            - mongodb_ss_locks_timeAcquiringMicros
            - mongodb_ss_metrics_commands_aggregate_allowDiskUseTrue
            - mongodb_ss_metrics_commands_cloneCatalogData_failed
            - mongodb_ss_metrics_commands_cloneCatalogData_total
            - mongodb_ss_metrics_commands_cloneCollectionOptionsFromPrimaryShard_failed
            - mongodb_ss_metrics_commands_cloneCollectionOptionsFromPrimaryShard_total
            - mongodb_ss_metrics_commands_cloneCollection_failed
            - mongodb_ss_metrics_commands_cloneCollection_total
            - mongodb_ss_metrics_commands_configsvrCommitChunkMerge_failed
            - mongodb_ss_metrics_commands_configsvrCommitChunkMerge_total
            - mongodb_ss_metrics_commands_configsvrCommitMovePrimary_failed
            - mongodb_ss_metrics_commands_configsvrCommitMovePrimary_total
            - mongodb_ss_metrics_commands_configsvrCreateCollection_failed
            - mongodb_ss_metrics_commands_configsvrCreateCollection_total
            - mongodb_ss_metrics_commands_configsvrDropCollection_failed
            - mongodb_ss_metrics_commands_configsvrDropCollection_total
            - mongodb_ss_metrics_commands_configsvrDropDatabase_failed
            - mongodb_ss_metrics_commands_configsvrDropDatabase_total
            - mongodb_ss_metrics_commands_configsvrEnableSharding_failed
            - mongodb_ss_metrics_commands_configsvrEnableSharding_total
            - mongodb_ss_metrics_commands_configsvrMovePrimary_failed
            - mongodb_ss_metrics_commands_configsvrMovePrimary_total
            - mongodb_ss_metrics_commands_configsvrShardCollection_failed
            - mongodb_ss_metrics_commands_configsvrShardCollection_total
            - mongodb_ss_metrics_commands_geoSearch_failed
            - mongodb_ss_metrics_commands_geoSearch_total
            - mongodb_ss_metrics_commands_mapreduce_shardedfinish_failed
            - mongodb_ss_metrics_commands_mapreduce_shardedfinish_total
            - mongodb_ss_metrics_commands_moveChunk_failed
            - mongodb_ss_metrics_commands_moveChunk_total
            - mongodb_ss_metrics_commands_movePrimary_failed
            - mongodb_ss_metrics_commands_movePrimary_total
            - mongodb_ss_metrics_commands_planCacheListPlans_failed
            - mongodb_ss_metrics_commands_planCacheListPlans_total
            - mongodb_ss_metrics_commands_planCacheListQueryShapes_failed
            - mongodb_ss_metrics_commands_planCacheListQueryShapes_total
            - mongodb_ss_metrics_commands_repairCursor_failed
            - mongodb_ss_metrics_commands_repairCursor_total
            - mongodb_ss_metrics_commands_resetError_failed
            - mongodb_ss_metrics_commands_resetError_total
            - mongodb_ss_metrics_commands_shardConnPoolStats_failed
            - mongodb_ss_metrics_commands_shardConnPoolStats_total
            - mongodb_ss_metrics_commands_shardsvrShardCollection_failed
            - mongodb_ss_metrics_commands_shardsvrShardCollection_total
            - mongodb_ss_metrics_commands_touch_failed
            - mongodb_ss_metrics_commands_touch_total
            - mongodb_ss_metrics_commands_unsetSharding_failed
            - mongodb_ss_metrics_commands_unsetSharding_total
            - mongodb_ss_metrics_commands_repairDatabase_failed
            - mongodb_ss_metrics_commands_repairDatabase_total
            - mongodb_ss_metrics_record_moves
            - mongodb_ss_network_serviceExecutorTaskStats_threadsRunning
            - mongodb_ss_opReadConcernCounters
            - mongodb_ss_oplogTruncation_totalTimeProcessingMicros
            - mongodb_ss_oplogTruncation_totalTimeTruncatingMicros
            - mongodb_ss_oplogTruncation_truncateCount
            - mongodb_ss_repl_ismaster
            - mongodb_ss_repl_lastWrite_lastWriteDate
            - mongodb_ss_repl_lastWrite_majorityOpTime_t
            - mongodb_ss_repl_lastWrite_majorityWriteDate
            - mongodb_ss_repl_lastWrite_opTime_t
            - mongodb_ss_repl_rbid
            - mongodb_ss_repl_secondary
            - mongodb_ss_repl_setVersion
            - mongodb_ss_shardingStatistics_catalogCache_countFailedRefreshes
            - mongodb_ss_shardingStatistics_catalogCache_countFullRefreshesStarted
            - mongodb_ss_shardingStatistics_catalogCache_countIncrementalRefreshesStarted
            - mongodb_ss_shardingStatistics_catalogCache_countStaleConfigErrors
            - mongodb_ss_shardingStatistics_catalogCache_numActiveFullRefreshes
            - mongodb_ss_shardingStatistics_catalogCache_numActiveIncrementalRefreshes
            - mongodb_ss_shardingStatistics_catalogCache_numCollectionEntries
            - mongodb_ss_shardingStatistics_catalogCache_numDatabaseEntries
            - mongodb_ss_shardingStatistics_catalogCache_operationsBlockedByRefresh_countAllOperations
            - mongodb_ss_shardingStatistics_catalogCache_operationsBlockedByRefresh_countCommands
            - mongodb_ss_shardingStatistics_catalogCache_operationsBlockedByRefresh_countDeletes
            - mongodb_ss_shardingStatistics_catalogCache_operationsBlockedByRefresh_countInserts
            - mongodb_ss_shardingStatistics_catalogCache_operationsBlockedByRefresh_countQueries
            - mongodb_ss_shardingStatistics_catalogCache_operationsBlockedByRefresh_countUpdates
            - mongodb_ss_shardingStatistics_catalogCache_totalRefreshWaitTimeMicros
            - mongodb_ss_shardingStatistics_countDocsClonedOnDonor
            - mongodb_ss_shardingStatistics_countDocsClonedOnRecipient
            - mongodb_ss_shardingStatistics_countDocsDeletedOnDonor
            - mongodb_ss_shardingStatistics_countDonorMoveChunkLockTimeout
            - mongodb_ss_shardingStatistics_countDonorMoveChunkStarted
            - mongodb_ss_shardingStatistics_countRecipientMoveChunkStarted
            - mongodb_ss_shardingStatistics_countStaleConfigErrors
            - mongodb_ss_shardingStatistics_totalCriticalSectionCommitTimeMillis
            - mongodb_ss_shardingStatistics_totalCriticalSectionTimeMillis
            - mongodb_ss_shardingStatistics_totalDonorChunkCloneTimeMillis
            - mongodb_ss_wt_async_current_work_queue_length
            - mongodb_ss_wt_async_maximum_work_queue_length
            - mongodb_ss_wt_async_number_of_allocation_state_races
            - mongodb_ss_wt_async_number_of_flush_calls
            - mongodb_ss_wt_async_number_of_operation_slots_viewed_for_allocation
            - mongodb_ss_wt_async_number_of_times_operation_allocation_failed
            - mongodb_ss_wt_async_number_of_times_worker_found_no_work
            - mongodb_ss_wt_async_total_allocations
            - mongodb_ss_wt_async_total_compact_calls
            - mongodb_ss_wt_async_total_insert_calls
            - mongodb_ss_wt_async_total_remove_calls
            - mongodb_ss_wt_async_total_search_calls
            - mongodb_ss_wt_async_total_update_calls
            - mongodb_ss_wt_cache_bytes_belonging_to_the_cache_overflow_table_in_the_cache
            - mongodb_ss_wt_cache_cache_overflow_cursor_application_thread_wait_time_usecs
            - mongodb_ss_wt_cache_cache_overflow_cursor_internal_thread_wait_time_usecs
            - mongodb_ss_wt_cache_cache_overflow_score
            - mongodb_ss_wt_cache_cache_overflow_table_entries
            - mongodb_ss_wt_cache_cache_overflow_table_insert_calls
            - mongodb_ss_wt_cache_cache_overflow_table_max_on_disk_size
            - mongodb_ss_wt_cache_cache_overflow_table_on_disk_size
            - mongodb_ss_wt_cache_cache_overflow_table_remove_calls
            - mongodb_ss_wt_cache_page_written_requiring_cache_overflow_records
            - mongodb_ss_wt_cache_pages_read_into_cache_requiring_cache_overflow_entries
            - mongodb_ss_wt_cache_pages_read_into_cache_requiring_cache_overflow_for_checkpoint
            - mongodb_ss_wt_cache_pages_read_into_cache_skipping_older_cache_overflow_entries
            - mongodb_ss_wt_cache_pages_read_into_cache_with_skipped_cache_overflow_entries_needed_later
            - mongodb_ss_wt_cache_pages_read_into_cache_with_skipped_cache_overflow_entries_needed_later_by_checkpoint
            - mongodb_ss_wt_cache_pages_selected_for_eviction_unable_to_be_evicted_as_the_parent_page_has_overflow_items
            - mongodb_ss_wt_cache_pages_selected_for_eviction_unable_to_be_evicted_due_to_newer_modifications_on_a_clean_page
            - mongodb_ss_wt_log_force_archive_time_sleeping_usecs
            - mongodb_ss_wt_session_table_import_failed_calls
            - mongodb_ss_wt_session_table_import_successful_calls
            - mongodb_ss_wt_session_table_rebalance_failed_calls
            - mongodb_ss_wt_session_table_rebalance_successful_calls
            - mongodb_ss_wt_snapshot_window_settings_cache_pressure_percentage_threshold
            - mongodb_ss_wt_snapshot_window_settings_current_available_snapshots_window_size_in_seconds
            - mongodb_ss_wt_snapshot_window_settings_current_cache_pressure_percentage
            - mongodb_ss_wt_snapshot_window_settings_max_target_available_snapshots_window_size_in_seconds
            - mongodb_ss_wt_snapshot_window_settings_target_available_snapshots_window_size_in_seconds
            - mongodb_ss_wt_thread_yield_log_server_sync_yielded_for_log_write
            - mongodb_ss_wt_txn_Number_of_prepared_updates_added_to_cache_overflow
            - mongodb_ss_wt_txn_durable_timestamp_queue_entries_walked
            - mongodb_ss_wt_txn_durable_timestamp_queue_insert_to_empty
            - mongodb_ss_wt_txn_durable_timestamp_queue_inserts_to_head
            - mongodb_ss_wt_txn_durable_timestamp_queue_inserts_total
            - mongodb_ss_wt_txn_durable_timestamp_queue_length
            - mongodb_ss_wt_txn_number_of_named_snapshots_created
            - mongodb_ss_wt_txn_number_of_named_snapshots_dropped
            - mongodb_ss_wt_txn_read_timestamp_queue_entries_walked
            - mongodb_ss_wt_txn_read_timestamp_queue_insert_to_empty
            - mongodb_ss_wt_txn_read_timestamp_queue_inserts_to_head
            - mongodb_ss_wt_txn_read_timestamp_queue_inserts_total
            - mongodb_ss_wt_txn_read_timestamp_queue_length
            - mongodb_ss_wt_txn_rollback_to_stable_updates_removed_from_cache_overflow
            - mongodb_ss_wt_txn_transaction_failures_due_to_cache_overflow
            - mongodb_ss_wt_txn_transaction_range_of_IDs_currently_pinned_by_named_snapshots
            - mongodb_ss_wt_txn_transaction_sync_calls
            - mongodb_sys_mounts_proc_sched_debug_available
            - mongodb_sys_mounts_proc_sched_debug_capacity
            - mongodb_sys_mounts_proc_sched_debug_free
            - mongodb_sys_mounts_data_configdb_available
            - mongodb_sys_mounts_data_configdb_capacity
            - mongodb_sys_mounts_data_configdb_free
            - mongodb_term
            - mongodb_writeMajorityCount
            - mongodb_collstats_storageStats_indexSizes_callingCode_1
            - mongodb_collstats_storageStats_indexSizes_capital_text
            - mongodb_dbstats_clusterTime_signature_keyId
            - mongodb_dbstats_configServerState_opTime_t
            - mongodb_dbstats_numExtents

          # additionals: ""
